class Darkmode{constructor(e){const t=e&&e.bottom||"32px",n=e&&e.right||"32px",o=e&&e.left||"unset",d=e&&e.time||"0",a=e&&e.mixColor||"#fff",s=e&&e.backgroundColor||"#fff",r=e&&e.buttonColorDark||"#100f2c",i=e&&e.buttonColorLight||"#fff",l=e&&e.label||"ðŸŒ“",m=!e||!1!==e.saveInCookies,c=!e||!1!==e.autoMatchOsTheme,g=`\n      .darkmode-layer {\n        position: fixed;\n        pointer-events: none;\n        background: ${a};\n        transition: all ${d} ease;\n        mix-blend-mode: difference;\n      }\n\n      .darkmode-layer--button {\n        width: 2.9rem;\n        height: 2.9rem;\n        border-radius: 50%;\n        right: ${n};\n        bottom: ${t};\n        left: ${o};\n      }\n\n      .darkmode-layer--simple {\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        transform: scale(1) !important;\n      }\n\n      .darkmode-layer--expanded {\n        transform: scale(100);\n        border-radius: 0;\n      }\n\n      .darkmode-layer--no-transition {\n        transition: none;\n      }\n\n      .darkmode-toggle {\n        background: ${r};\n        width: 3rem;\n        height: 3rem;\n        position: fixed;\n        border-radius: 50%;\n        right: ${n};\n        bottom: ${t};\n        left: ${o};\n        cursor: pointer;\n        transition: all 0.5s ease;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .darkmode-toggle--white {\n        background: ${i};\n      }\n\n      .darkmode-background {\n        background: ${s};\n        position: fixed;\n        pointer-events: none;\n        z-index: -10;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n      }\n\n      img, .darkmode-ignore {\n        isolation: isolate;\n        display: inline-block;\n      }\n\n      @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n        .darkmode-toggle {display: none !important}\n      }\n\n      @supports (-ms-ime-align:auto), (-ms-accelerator:true) {\n        .darkmode-toggle {display: none !important}\n      }\n    `,k=document.createElement("div"),h=document.createElement("div"),u=document.createElement("div");h.innerHTML=l,k.classList.add("darkmode-layer"),u.classList.add("darkmode-background");const y="true"===window.localStorage.getItem("darkmode"),b=c&&window.matchMedia("(prefers-color-scheme: dark)").matches,p=null===window.localStorage.getItem("darkmode");(!0===y&&m||p&&b)&&(k.classList.add("darkmode-layer--expanded","darkmode-layer--simple","darkmode-layer--no-transition"),h.classList.add("darkmode-toggle--white"),document.body.classList.add("darkmode--activated")),document.body.insertBefore(h,document.body.firstChild),document.body.insertBefore(k,document.body.firstChild),document.body.insertBefore(u,document.body.firstChild),this.addStyle(g),this.button=h,this.layer=k,this.saveInCookies=m,this.time=d}addStyle(e){const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","data:text/css;charset=UTF-8,"+encodeURIComponent(e)),document.head.appendChild(t)}showWidget(){const e=this.button,t=this.layer,n=1e3*parseFloat(this.time);e.classList.add("darkmode-toggle"),t.classList.add("darkmode-layer--button"),e.addEventListener("click",()=>{const o=this.isActivated();o?(t.classList.remove("darkmode-layer--simple"),setTimeout(()=>{t.classList.remove("darkmode-layer--no-transition"),t.classList.remove("darkmode-layer--expanded")},1)):(t.classList.add("darkmode-layer--expanded"),setTimeout(()=>{t.classList.add("darkmode-layer--no-transition"),t.classList.add("darkmode-layer--simple")},n)),e.classList.toggle("darkmode-toggle--white"),document.body.classList.toggle("darkmode--activated"),window.localStorage.setItem("darkmode",!o)})}toggle(){const e=this.layer,t=this.isActivated();e.classList.toggle("darkmode-layer--simple"),document.body.classList.toggle("darkmode--activated"),window.localStorage.setItem("darkmode",!t)}isActivated(){return document.body.classList.contains("darkmode--activated")}}